<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="nashik logo.jpg" type="png">
    <title>Yatra Marg portal</title>
    
    <link rel="stylesheet" href="style.css">
    <!--<link rel="stylesheet" href="hospital.css">-->
    <link rel="stylesheet" href="style2.css" />
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">


        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />


</head>

<body>
    <!-- Header -->
    <header>
        <div class="header-container">
            <div class="logo">
                <img src="nashik logo.jpg" alt="Yatra Setu Logo">
                <h1><b>Yatra Marg Portal</b></h1>
            </div>
            <button class="mobile-nav-toggle" id="navToggle">
                <i class="fas fa-bars"></i>
            </button>
            <nav>
                <ul id="navMenu">
                    <li><a href="Home.html" class="active">Home</a></li>
                    <li><a href="#contact">Contact</a></li> 
                    <li class="transport-box">
                        <select class="transport-select" onchange="if(this.value) window.location.href=this.value;">
                            <option value="">Transport</option>
                            <option value="Taxi Services.html" >Taxi services</option>
                        </select>
                    </li>
                    <li class="helpline-box">
                      <select class="helpline-select"onchange="if(this.value) window.location.href='tel:'+this.value;">
                            <option value="">ğŸ“ Call Helpline</option>
                            <option value="100">ğŸš“ Police â€“ 100</option>
                            <option value="108">ğŸš‘ Ambulance â€“ 108</option>
                            <option value="101">ğŸ”¥ Fire â€“ 101</option>
                            <option value="1091">ğŸ‘© Women â€“ 1091</option>
                             <option value="nearest-hospital">ğŸ¥ Nearest Hospital</option>
                      </select>
                    </li>
                
                 
                   
                </ul>
            </nav>
        </div>
    </header>


   
<!-- ================= MAP ================= -->
<div class="container-fluid map-wrapper">
  <div id="map"></div>
</div>

<!-- ================= SIDE PANEL ================= -
 <button id="openFormBtn" class="">Open Form</button>-->
 <button id="openFormBtn" class="open-btn">â˜°</button>

<div id="sidePanel" class="shadow">
    <button id="closeFormBtn" class="close-btn">&times;</button>
  <h5 class="text-center mb-3">ğŸ¥ Hospitals</h5>

  <!-- Filter -->
  <div class="mb-3">
    <label class="form-check">
      <input class="form-check-input" type="checkbox" checked onclick="filterMarkers('government ')">Government hospital </label>
    <label class="form-check">
      <input class="form-check-input" type="checkbox" checked onclick="filterMarkers('private')">Private hospital</label>
    <label class="form-check">
      <input class="form-check-input" type="checkbox" checked onclick="filterMarkers('Multispeciality')">Multispeciality</label>
    
     
  </div>

  <!-- Emergency -->
  <button id="emergencyBtn" class="btn btn-danger w-100 mb-3">
    ğŸš¨ Emergency â€“ Find Nearest Hospital
  </button>

  <!-- Add Toilet -->
  <form id="hospitalform">
    <input type="number" step="any" class="form-control mb-2" placeholder="Latitude"id="latInput"required>
    <input type="number" step="any"class="form-control mb-2" placeholder="Longitude"id="lngInput"required>

    <select class="form-select mb-2"id="categoryInput" required>
      <option value="government">Government hospital</option>
      <option value="Private hospital">Private hospital</option>
      <option value=" Multispeciality"> Multispeciality</option>
       <option value=" Medicals">Medicals</option>
      
    </select>

    <input class="form-control mb-2" placeholder="Title"id="titleInput"required>
    <input class="form-control mb-2" placeholder="Description"id="descInput"required>

    <input type="file" class="form-control mb-2" id="fileInput" accept="image/*">

    <button type="submit" class="btn btn-success w-100" id="submitbtn"> Add Hospital</button>
   <!-- <p id="successMsg" style="display:none; color:green;"><b>Thanks for helping Nashik!</b><br>Your submission will improve public hygiene during Kumbh 2026.</p>
    <p id="successMsg" style="display:none; color:green;">Status:Under Verificationâ³</p>-->
    
  <div class="modal fade"
     id="successModal"
     tabindex="-1"
     data-bs-backdrop="false">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">

      <div class="modal-header bg-success text-white">
        <h5 class="modal-title">Submission Successful!âœ…</h5>
         
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body text-center">
        Thanks for helping Nashik!ğŸ™ğŸ»<br>
        Your submission will improve public health during Kumbh 2026.<br>
        <b>Status: </b>Under Verificationâ³
         
    
      </div>

    </div>
  </div>
</div>

<!---->
<div class="modal fade" id="nearestModal" tabindex="-1"data-bs-backdrop="false">
  <div class="modal-dialog modal-dialog-centered modal-sm">
    <div class="modal-content">

      <div class="modal-header bg-danger text-white">
        <h6 class="modal-title">ğŸš¨ Nearest hospital</h6>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>

      </div>
     

      <div class="modal-body text-center">
        <p id="nearestText"></p>
         <!-- ğŸ”¥ Direction Button -->
        <a id="directionBtn"
           href="#"
           target="_blank"
           class="btn btn-primary btn-sm mt-2 w-100">
           ğŸ§­ Get Directions
        </a>
      </div>

    </div>
  </div>
</div>


</form>
</div>





    
    <!-- ================= FOOTER ================= -->
<footer id="contact" class="bg-dark text-light mt-5 pt-4">
  <div class="container">
    <div class="row">

      <div class="col-md-4">
        <h5><b>Nashik Tourism></b></h5>
        <p>Smart public services for Nashik Kumbh 2026.</p>
      </div>

      <div class="col-md-4">
        <h5><b>Quick Links</b></h5>
        <ul class="list-unstyled">
          <li><a href="Home.html" class="text-light">Home</a></li>
        </ul>
      </div>

      <div class="col-md-4">
        <h5><b>Contact</b></h5>
        <p><i class="fa fa-user"></i> Pallavi Chaudhari</p>
        <p><i class="fa fa-phone"></i> 9309482281</p>
        <p><i class="fa fa-envelope"></i> pallavichau25@gmail.com</p>
      </div>

    </div>
    <hr>
    <p class="text-center">Â© 2026 Yatra Marg Portal</p>
  </div>
</footer>
  <!-- Scroll to top button -->
<button id="scrollTopBtn" onclick="scrollToTop()">^</button>

    </footer>

    <script>

/*const form=document.getElementById('toiletform');
const message=document.getElementById('successMsg');
form.addEventListener('submit',function(event){
  event.preventDefault();
  message.style.display='block';
  form.reset();
  setTimeout(()=>{
    message.style.display='none';
  },3000);
});
*/
document.getElementById("hospitalform").addEventListener("submit", function (e) {
  e.preventDefault();
  const modal = new bootstrap.Modal(document.getElementById("successModal"));
  modal.show();
    this.reset(); // form clear
});



// Hospital data list
let map, userMarker;
const hospitals = [
  {
    name: "Civil Hospital Nashik",
    lat: 19.9972,
    lng: 73.7899,
    type: "government",
    
    
  },
  {name: "Apollo Hospital Nashik",lat: 19.9615,lng: 73.8302,type: "private",},
  {name: "Pandya Hospital",lat: 19.994684,lng: 73.752991,type: "private",},
  {
    name: "Wockhardt Hospital",
    lat: 19.9506,
    lng: 73.8333,
    type: "private",
  },
    
  {
    name: "District Hospital",
    lat: 20.0061,
    lng: 73.7832,
    type: "government",
    
  }
];



function showCategory(category) {
  markers.forEach(t => {
    if(category === "all" || t.type === category) {
      t.marker.setMap(map); // show
    } else {
      t.marker.setMap(null); // hide
    }
  });
}


const markers = [];

window.initMap = function () {
  map = new google.maps.Map(document.getElementById("map"), {
    center: { lat: 19.997453, lng: 73.789802 },
    zoom: 13
  });

  hospitals.forEach(t => {
    const m = new google.maps.Marker({
      position: { lat: t.lat, lng: t.lng },
      map,
      title: t.name
    });
    markers.push({ ...t, marker: m });
  });
};

function getDistance(lat1, lon1, lat2, lon2) {
  const R = 6371e3;
  const toRad = x => x * Math.PI / 180;
  const dLat = toRad(lat2 - lat1);
  const dLon = toRad(lon2 - lon1);
  const a =
    Math.sin(dLat/2)**2 +
    Math.cos(toRad(lat1))*Math.cos(toRad(lat2))*
    Math.sin(dLon/2)**2;
  return R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
}

document.getElementById("emergencyBtn").onclick = () => {
  navigator.geolocation.getCurrentPosition(pos => {
    const { latitude, longitude } = pos.coords;

    if (userMarker) userMarker.setMap(null);
    userMarker = new google.maps.Marker({
      position: { lat: latitude, lng: longitude },
      map,
      icon: "https://maps.google.com/mapfiles/ms/icons/green-dot.png"
    });

    let nearest = null, min = Infinity;

    markers.forEach(t => {
      const d = getDistance(latitude, longitude, t.lat, t.lng);
      if (d < min) {
        min = d;
        nearest = t;
      }
    });

    markers.forEach(t =>
      t.marker.setIcon("https://maps.google.com/mapfiles/ms/icons/blue-dot.png")
    );

    nearest.marker.setIcon(
      "https://maps.google.com/mapfiles/ms/icons/red-dot.png"
    );
    
    //alert(
     // `ğŸš¨ Nearest Toilet Found\n\n${nearest.name}\nDistance: ${(min/1000).toFixed(2)} km`
   // ); 
   
   document.getElementById("emergencyBtn").onclick = () => {
  navigator.geolocation.getCurrentPosition(pos => {
    const { latitude, longitude } = pos.coords;

    let nearest = null, min = Infinity;

    markers.forEach(t => {
      const d = getDistance(latitude, longitude, t.lat, t.lng);
      if (d < min) {
        min = d;
        nearest = t;
      }
    });  

    // ğŸ”¥ Modal text set
    document.getElementById("nearestText").innerHTML = `
      <b>${nearest.name}</b><br>
      Distance: ${(min / 1000).toFixed(2)} km
    `;
    
    // ğŸ”¥ GOOGLE MAPS DIRECTION LINK
      const directionURL =
        `https://www.google.com/maps/dir/?api=1` +
        `&origin=${latitude},${longitude}` +
        `&destination=${nearest.lat},${nearest.lng}` +
        `&travelmode=driving`;

      document.getElementById("directionBtn").href = directionURL;

    // ğŸ”¥ Show modal
    const modal = new bootstrap.Modal(
      document.getElementById("nearestModal")
    );
    modal.show();
  },
  () => alert("ğŸ“ Location permission denied")
  );
}; 

/*
document.getElementById("emergencyBtn").onclick = () => {
  navigator.geolocation.getCurrentPosition(
    pos => {
      const { latitude, longitude } = pos.coords;

      // User marker
      if (userMarker) userMarker.setMap(null);
      userMarker = new google.maps.Marker({
        position: { lat: latitude, lng: longitude },
        map,
        icon: "https://maps.google.com/mapfiles/ms/icons/green-dot.png"
      });

      let nearest = null;
      let min = Infinity;

      markers.forEach(h => {
        const d = getDistance(latitude, longitude, h.lat, h.lng);
        if (d < min) {
          min = d;
          nearest = h;
        }
      });

      // Highlight markers
      markers.forEach(h =>
        h.marker.setIcon("https://maps.google.com/mapfiles/ms/icons/blue-dot.png")
      );

      nearest.marker.setIcon(
        "https://maps.google.com/mapfiles/ms/icons/red-dot.png"
      );

      // ğŸ”¥ Modal text
      document.getElementById("nearestText").innerHTML = `
        <b>${nearest.name}</b><br>
        Distance: ${(min / 1000).toFixed(2)} km
      `;

      // ğŸ”¥ GOOGLE MAPS DIRECTION LINK
      const directionURL =
        `https://www.google.com/maps/dir/?api=1` +
        `&origin=${latitude},${longitude}` +
        `&destination=${nearest.lat},${nearest.lng}` +
        `&travelmode=driving`;

      document.getElementById("directionBtn").href = directionURL;

      // Show modal
      const modal = new bootstrap.Modal(
        document.getElementById("nearestModal")
      );
      modal.show();
    },
    () => alert("ğŸ“ Location permission denied")
  );
};


*/
  
  });
};



//form open close
const openBtn = document.getElementById("openFormBtn");
const closeBtn = document.getElementById("closeFormBtn");
const sideForm = document.getElementById("sidePanel");

openBtn.addEventListener("click", () => {
  sideForm.classList.add("open");
});

closeBtn.addEventListener("click", () => {
  sideForm.classList.remove("open");
});

</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCthMkZ6Pcev0H57sbOQ1tGMtutPOjCa-Y&libraries=places&callback=initMap" defer></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

 <script src="script.js"></script> 
 <!-- Google Maps API -->




 
</body>
</html>